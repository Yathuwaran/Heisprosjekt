<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Heisprosjekt - Gruppe 22: source/controller.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Heisprosjekt - Gruppe 22
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">controller.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The controller file constists of two global structs for keeping track of the elevator status and the state of the elevator. Funtions for reseting, stopping, running, executing and initializing the elevator as well as functions for updtating the status and state are also included. The main logic of the elvator lies within the <a class="el" href="controller_8h.html#a29eb4c73c46dfbbbe1c9f908b781192c" title="Contains the complete state machine of the elevator. ">run_elevator()</a> function.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;elev.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for controller.h:</div>
<div class="dyncontent">
<div class="center"><img src="controller_8h__incl.png" border="0" usemap="#source_2controller_8h" alt=""/></div>
<map name="source_2controller_8h" id="source_2controller_8h">
<area shape="rect" id="node2" href="elev_8h_source.html" title="elev.h" alt="" coords="41,80,99,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="controller_8h__dep__incl.png" border="0" usemap="#source_2controller_8hdep" alt=""/></div>
<map name="source_2controller_8hdep" id="source_2controller_8hdep">
<area shape="rect" id="node2" href="queue_8h.html" title="The queue file includes funtions used to manipulate the queue for the elevator, determine direction b..." alt="" coords="152,80,263,107"/>
<area shape="rect" id="node3" href="controller_8c_source.html" title="source/controller.c" alt="" coords="5,155,135,181"/>
<area shape="rect" id="node4" href="door_8c_source.html" title="source/door.c" alt="" coords="159,155,261,181"/>
<area shape="rect" id="node5" href="queue_8c_source.html" title="source/queue.c" alt="" coords="292,155,403,181"/>
<area shape="rect" id="node6" href="door_8h.html" title="The door file includes functions for opening and closing the door. There is also implemented a three ..." alt="" coords="26,80,127,107"/>
<area shape="rect" id="node7" href="main_8c_source.html" title="source/main.c" alt="" coords="389,80,493,107"/>
</map>
</div>
</div>
<p><a href="controller_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstatus__stat.html">status_stat</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps track of the elevator status.  <a href="structstatus__stat.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ada5afb1226f3d604e014674fa0448069"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada5afb1226f3d604e014674fa0448069"></a>
typedef enum <a class="el" href="controller_8h.html#a798d1d3831b58bf27f3c5853317502b5">states_stat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#ada5afb1226f3d604e014674fa0448069">states</a></td></tr>
<tr class="memdesc:ada5afb1226f3d604e014674fa0448069"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds all the states included within the state- machine. <br /></td></tr>
<tr class="separator:ada5afb1226f3d604e014674fa0448069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f15c77206bc6cf59d763bb72cc381e6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f15c77206bc6cf59d763bb72cc381e6"></a>
typedef struct <a class="el" href="structstatus__stat.html">status_stat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a></td></tr>
<tr class="memdesc:a7f15c77206bc6cf59d763bb72cc381e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps track of the elevator status. <br /></td></tr>
<tr class="separator:a7f15c77206bc6cf59d763bb72cc381e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a798d1d3831b58bf27f3c5853317502b5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#a798d1d3831b58bf27f3c5853317502b5">states_stat</a> { <a class="el" href="controller_8h.html#a798d1d3831b58bf27f3c5853317502b5ae4634ae4352b512b38c5da9dc1610ca6">STANDBY</a>, 
<a class="el" href="controller_8h.html#a798d1d3831b58bf27f3c5853317502b5a79a322ccb4b29b85b3cab52dbccefd17">WAIT</a>, 
<a class="el" href="controller_8h.html#a798d1d3831b58bf27f3c5853317502b5a679ee5320d66c8322e310daeb2ee99b8">STOP</a>, 
<a class="el" href="controller_8h.html#a798d1d3831b58bf27f3c5853317502b5ae1bb1460cb779888412e634e983be161">ACTION</a>
 }<tr class="memdesc:a798d1d3831b58bf27f3c5853317502b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds all the states included within the state- machine.  <a href="controller_8h.html#a798d1d3831b58bf27f3c5853317502b5">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a798d1d3831b58bf27f3c5853317502b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a242b33d09d6a2e733a219bb9342bddcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#a242b33d09d6a2e733a219bb9342bddcb">reset_elevator</a> (<a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *elevator)</td></tr>
<tr class="memdesc:a242b33d09d6a2e733a219bb9342bddcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets all elements in queue, and resets all enabled lamps. Updates prev_dir within status struct.  <a href="#a242b33d09d6a2e733a219bb9342bddcb">More...</a><br /></td></tr>
<tr class="separator:a242b33d09d6a2e733a219bb9342bddcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a9af841252d044dd8da2f48ca32e776"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#a2a9af841252d044dd8da2f48ca32e776">stop_elevator</a> (<a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *elevator)</td></tr>
<tr class="memdesc:a2a9af841252d044dd8da2f48ca32e776"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets and updates status of motor direction to DIRN_STOP, resets the elevator and opens the door for three seconds if the elevator is not between floors.  <a href="#a2a9af841252d044dd8da2f48ca32e776">More...</a><br /></td></tr>
<tr class="separator:a2a9af841252d044dd8da2f48ca32e776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29eb4c73c46dfbbbe1c9f908b781192c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#a29eb4c73c46dfbbbe1c9f908b781192c">run_elevator</a> (<a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *elevator)</td></tr>
<tr class="memdesc:a29eb4c73c46dfbbbe1c9f908b781192c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains the complete state machine of the elevator.  <a href="#a29eb4c73c46dfbbbe1c9f908b781192c">More...</a><br /></td></tr>
<tr class="separator:a29eb4c73c46dfbbbe1c9f908b781192c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcab175bee116f39d33681fd94d6b9bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#adcab175bee116f39d33681fd94d6b9bf">read_set_motor_dir</a> (<a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *elevator)</td></tr>
<tr class="memdesc:adcab175bee116f39d33681fd94d6b9bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines a new direction based on the elevator orders and the elevator status.  <a href="#adcab175bee116f39d33681fd94d6b9bf">More...</a><br /></td></tr>
<tr class="separator:adcab175bee116f39d33681fd94d6b9bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b96c2d6030e1c72f70ccf84f633b344"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#a5b96c2d6030e1c72f70ccf84f633b344">initialize_elevator</a> (<a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *elevator)</td></tr>
<tr class="memdesc:a5b96c2d6030e1c72f70ccf84f633b344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the the start state and status of the elvator. Forces the elevator to the first floor, and keeps the door closed.  <a href="#a5b96c2d6030e1c72f70ccf84f633b344">More...</a><br /></td></tr>
<tr class="separator:a5b96c2d6030e1c72f70ccf84f633b344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a406460bef998b9f9452622bda738926c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#a406460bef998b9f9452622bda738926c">set_current_floor</a> (<a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *elevator)</td></tr>
<tr class="memdesc:a406460bef998b9f9452622bda738926c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets current floor in the status struct based on floor sensor activity.  <a href="#a406460bef998b9f9452622bda738926c">More...</a><br /></td></tr>
<tr class="separator:a406460bef998b9f9452622bda738926c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cbe8b7e0ea6e4dd45868d7964f11bef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#a1cbe8b7e0ea6e4dd45868d7964f11bef">stop_on_floor_if_ordered</a> (<a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *elevator)</td></tr>
<tr class="memdesc:a1cbe8b7e0ea6e4dd45868d7964f11bef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes the elevator stop, when it passes a floor with an avtive order. Updates status and state.  <a href="#a1cbe8b7e0ea6e4dd45868d7964f11bef">More...</a><br /></td></tr>
<tr class="separator:a1cbe8b7e0ea6e4dd45868d7964f11bef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d2c99e9972a3266a724203c1403b638"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#a1d2c99e9972a3266a724203c1403b638">reset_floor</a> (<a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *elevator)</td></tr>
<tr class="memdesc:a1d2c99e9972a3266a724203c1403b638"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets lamps and orders assosiated with the floor where the elevator stops.  <a href="#a1d2c99e9972a3266a724203c1403b638">More...</a><br /></td></tr>
<tr class="separator:a1d2c99e9972a3266a724203c1403b638"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The controller file constists of two global structs for keeping track of the elevator status and the state of the elevator. Funtions for reseting, stopping, running, executing and initializing the elevator as well as functions for updtating the status and state are also included. The main logic of the elvator lies within the <a class="el" href="controller_8h.html#a29eb4c73c46dfbbbe1c9f908b781192c" title="Contains the complete state machine of the elevator. ">run_elevator()</a> function. </p>

<p>Definition in file <a class="el" href="controller_8h_source.html">controller.h</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a798d1d3831b58bf27f3c5853317502b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="controller_8h.html#a798d1d3831b58bf27f3c5853317502b5">states_stat</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Holds all the states included within the state- machine. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a798d1d3831b58bf27f3c5853317502b5ae4634ae4352b512b38c5da9dc1610ca6"></a>STANDBY&#160;</td><td class="fielddoc">
<p>The state where the motor direction is determined </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a798d1d3831b58bf27f3c5853317502b5a79a322ccb4b29b85b3cab52dbccefd17"></a>WAIT&#160;</td><td class="fielddoc">
<p>Here the door stays open for three seconds </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a798d1d3831b58bf27f3c5853317502b5a679ee5320d66c8322e310daeb2ee99b8"></a>STOP&#160;</td><td class="fielddoc">
<p>Sets the state to STANDBY </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a798d1d3831b58bf27f3c5853317502b5ae1bb1460cb779888412e634e983be161"></a>ACTION&#160;</td><td class="fielddoc">
<p>Looks for orders and act upon it. Upates queue and status </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="controller_8h_source.html#l00017">17</a> of file <a class="el" href="controller_8h_source.html">controller.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5b96c2d6030e1c72f70ccf84f633b344"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_elevator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *&#160;</td>
          <td class="paramname"><em>elevator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the the start state and status of the elvator. Forces the elevator to the first floor, and keeps the door closed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">status*</td><td>elevator Struct for elevator status. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="controller_8c_source.html#l00126">126</a> of file <a class="el" href="controller_8c_source.html">controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="adcab175bee116f39d33681fd94d6b9bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_set_motor_dir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *&#160;</td>
          <td class="paramname"><em>elevator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines a new direction based on the elevator orders and the elevator status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">status*</td><td>elevator Struct for elevator status. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="controller_8c_source.html#l00039">39</a> of file <a class="el" href="controller_8c_source.html">controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a242b33d09d6a2e733a219bb9342bddcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_elevator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *&#160;</td>
          <td class="paramname"><em>elevator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets all elements in queue, and resets all enabled lamps. Updates prev_dir within status struct. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">status*</td><td>elevator Struct for elevator status. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="controller_8c_source.html#l00011">11</a> of file <a class="el" href="controller_8c_source.html">controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1d2c99e9972a3266a724203c1403b638"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_floor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *&#160;</td>
          <td class="paramname"><em>elevator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets lamps and orders assosiated with the floor where the elevator stops. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">status*</td><td>elevator Struct for elevator status. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="controller_8c_source.html#l00075">75</a> of file <a class="el" href="controller_8c_source.html">controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a29eb4c73c46dfbbbe1c9f908b781192c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void run_elevator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *&#160;</td>
          <td class="paramname"><em>elevator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contains the complete state machine of the elevator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">status*</td><td>elevator Struct for elevator status. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="controller_8c_source.html#l00088">88</a> of file <a class="el" href="controller_8c_source.html">controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a406460bef998b9f9452622bda738926c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_current_floor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *&#160;</td>
          <td class="paramname"><em>elevator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets current floor in the status struct based on floor sensor activity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">status*</td><td>elevator Struct for elevator status. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="controller_8c_source.html#l00051">51</a> of file <a class="el" href="controller_8c_source.html">controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2a9af841252d044dd8da2f48ca32e776"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stop_elevator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *&#160;</td>
          <td class="paramname"><em>elevator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets and updates status of motor direction to DIRN_STOP, resets the elevator and opens the door for three seconds if the elevator is not between floors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">status*</td><td>elevator Struct for elevator status. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="controller_8c_source.html#l00023">23</a> of file <a class="el" href="controller_8c_source.html">controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1cbe8b7e0ea6e4dd45868d7964f11bef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stop_on_floor_if_ordered </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="controller_8h.html#a7f15c77206bc6cf59d763bb72cc381e6">status</a> *&#160;</td>
          <td class="paramname"><em>elevator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes the elevator stop, when it passes a floor with an avtive order. Updates status and state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">status*</td><td>elevator Struct for elevator status. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="controller_8c_source.html#l00059">59</a> of file <a class="el" href="controller_8c_source.html">controller.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
